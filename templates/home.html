{% extends "base.html" %}
{% load static widget_tweaks form_tags %}

{% block title %}
	Your TODO list
{% endblock title %}

{% block content %}
	<div class="col-log-4 col-md-6 col-sm-6 my-auto">
		<div class="card">
			<h3 class="card-header">TODO Items</h3>
			<div class="card-body pt-3">
				<form method="post" class="form-inline row px-3" novalidate>
					{% csrf_token %}
					<label class="sr-only" for="input">{{ form.goal.label_tag }}</label>
					<input type="text" class="form-control col-10" id="input" name="goal" placeholder="Finish my homework..." required>
					<button type="submit" class="btn btn-secondary col-2">ADD</button>
				</form>
				<hr>
				<ul class="list-group list-group-flush">
					{% for item in items %}
						<li class="list-group-item row d-flex justify-content-around">
							<div class="col-8 d-inline">
								<a href="{% url 'info' item.pk %}" class="goal text-decoration-none" title="{{ item.goal }}">{{ item.get_truncated_goal }}</a>
								<small class="text-muted pl-1">{{ item.added_at|date:"M n, H:i" }}</small>
							</div>
							<div class="col-4 d-inline-block justify-content-end pl-5 pr-0">
								<a href="{% url 'action_confirm' item.pk 0 %}" title="Mark as complete" id="bt1" class="col-2 py-1 px-3 bt">✓</a>
								<a href="{% url 'action_confirm' item.pk 1 %}" title="Delete item" id="bt2" class="col-2 py-1 px-3 bt">✕</a>
							</div>
						</li>
					{% endfor %}
				</ul>
			</div>
		</div>
	</div>
{% endblock content %}